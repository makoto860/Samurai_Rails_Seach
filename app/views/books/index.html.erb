<h1>Books#index</h1>
<p>Find me in app/views/books/index.html.erb</p>
<% if flash[:notice] %>
  <p class="notice"><%= flash[:notice] %></p>
<% end %>

<%= form_with(url: books_search_path, local: true, method: :get, class: "search-form") do |form| %>
  <%= form.text_field :keyword, placeholder: "キーワード検索する", class: "search-input" %>
  <%= form.submit "キーワード検索", class: "search-btn" %>
<% end %>

<h3>ブック情報一覧</h3>
<table>
  <thead>
    <tr>
      <th>id</th>
      <th>タイトル</th>
      <th>住所</th>
      <th>内容</th>
      <th>参照</th>
      <th>編集</th>
      <th>消去</th>
    </tr>
  </thead>

  <tbody>
    <% @books.each do |book| %>
      <tr>
        <td><%= book.id %></td>
        <td><%= book.title %></td>
        <td><%= book.address %></td>
        <td><%= book.content %></td>
        <td><%= link_to "詳細", book %></td>
        <td><%= link_to "編集", [:edit, book] %></td>
        <td><%= link_to 'ブック削除', book, data: { turbo_method: :delete, turbo_confirm: "本当に削除しますか？" } %></td>
      </tr>
      <% end %>
  </tbody>
</table>
<p><%= link_to "ブック新規登録", :new_book %></p>

<% if @books.empty? %>
  <h2 class="search-result">検索結果はありません</h2>
<% else %>
  <div class="post-contents">
    <ul class="post-list">
      <% @books.each do |book| %>
        <li class="list">
          <%= link_to book_path(book.id) do %>
            <h3 class='post-title'><%= book.title %></h3>
            <h3 class='post-content'><%= book.content %></h3>
          <% end %>
        </li>
      <% end %>
    </ul>
  </div>
<% end %>
